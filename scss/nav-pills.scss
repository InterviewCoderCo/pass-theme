// ─────────────────────────────────────────────────────────────────────────────
// NAVIGATION TABS - Flat, clean, Unreal-inspired
// ─────────────────────────────────────────────────────────────────────────────

// List controls container (sticky header with nav + filters)
.list-controls {
  position: sticky;
  top: var(--header-offset);
  background: transparent !important;
  z-index: z("base") + 1;
  padding: 12px 0;
  border-bottom: none;
  margin-bottom: 0;

  .navigation-container {
    display: flex;
    flex-direction: row-reverse;
    justify-content: flex-end;
    gap: 12px;
    align-items: center;

    // Nav pills (Latest, Hot, Categories) - right side
    .nav-pills {
      order: 1;
      margin-left: auto;
    }

    // Filter buttons (categories, tags) - left side
    .category-breadcrumb {
      order: 0;
    }
  }

  // Filter dropdowns - Figma pill style (gray bg, white on hover)
  .combo-box .combo-box-header {
    background: transparent;
    border-radius: 20px;
    border: 1px solid #CBD5E1;
    padding: 8px 16px;
    font-size: 14px;
    font-weight: 500;
    transition: border-color 150ms ease, background 150ms ease;

    &:hover {
      border-color: #94A3B8;
      background: #FFFFFF;
    }

    &:focus-visible {
      .discourse-no-touch & {
        border-color: var(--tertiary);
        box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.12);
      }
    }

    .d-icon {
      color: #64748B;
      margin-left: 4px;
    }

    .selected-name {
      color: #0F172A;
    }
  }
}

// Category breadcrumb - pill buttons (transparent bg)
.category-breadcrumb {
  display: flex;
  gap: 8px;

  li {
    .combo-box .combo-box-header,
    .category-drop-header {
      border-radius: 20px !important;
      border: 1px solid #CBD5E1 !important;
      padding: 8px 16px !important;
      background: transparent !important;
      font-weight: 500;

      &:hover {
        background: #FFFFFF !important;
      }
    }
  }
}

// Dropdown body
.select-kit.is-expanded .select-kit-body {
  border-radius: 8px;
  background: var(--d-content-background);
  border: 1px solid light-dark(#E2E8F0, #334155);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

// ─────────────────────────────────────────────────────────────────────────────
// NAV PILLS - The actual tabs (Latest, New, Unread, Top, Categories)
// ─────────────────────────────────────────────────────────────────────────────

.nav-pills {
  display: flex;
  gap: 0;
  padding: 0;
  margin: 0;

  // Each tab item
  > li {
    margin: 0;

    // Tab link/button
    > a,
    > button {
      position: relative;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 8px 16px;
      font-size: 14px;
      font-weight: 450;
      color: light-dark(#64748B, #94A3B8);
      background: transparent !important;
      border: none;
      border-radius: 0;
      transition: color 150ms ease;
      text-decoration: none;

      // Remove default underline
      &::after {
        display: none;
      }

      // Icon styling
      .d-icon {
        width: 14px;
        height: 14px;
        color: inherit;
      }

      // Count badge (e.g., "New (3)")
      .badge-notification {
        margin-left: 4px;
        padding: 2px 6px;
        font-size: 11px;
        font-weight: 600;
        border-radius: 9999px;
        background: light-dark(#0F172A, #F8FAFC);
        color: light-dark(#FFFFFF, #0F172A);
      }

      // Hover state - just color change, no background
      &:hover {
        color: light-dark(#0F172A, #F8FAFC);
        background: transparent !important;
      }
    }

    // Active/current tab
    &.active > a,
    &.active > button,
    > a.active,
    > button.active {
      color: light-dark(#0F172A, #F8FAFC);
      background: transparent !important;
      font-weight: 600;

      // Active indicator - underline only
      &::after {
        content: "";
        display: block;
        position: absolute;
        bottom: -1px;
        left: 16px;
        right: 16px;
        height: 2px;
        background: light-dark(#0F172A, #F8FAFC);
        border-radius: 2px 2px 0 0;
      }
    }
  }
}

// ─────────────────────────────────────────────────────────────────────────────
// NAVIGATION VARIANTS
// ─────────────────────────────────────────────────────────────────────────────

// Category navigation (on category pages)
.category-navigation {
  .nav-pills {
    > li > a,
    > li > button {
      padding: 6px 12px;
      font-size: 13px;
    }
  }
}

// Sub-navigation (e.g., within user profiles)
.user-navigation {
  .nav-pills {
    border-bottom: 1px solid light-dark(#E2E8F0, #1E293B);
    padding-bottom: 8px;
    margin-bottom: 16px;
  }
}

// Mobile adjustments
@media (max-width: 768px) {
  .nav-pills {
    flex-wrap: nowrap;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;

    &::-webkit-scrollbar {
      display: none;
    }

    > li > a,
    > li > button {
      padding: 8px 14px;
      font-size: 13px;
      white-space: nowrap;
    }
  }
}

// Remove any lingering backgrounds from Discourse defaults
.nav-pills > li > a:hover,
.nav-pills > li button:hover {
  background: transparent !important;
}
